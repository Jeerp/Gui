<!-- ***************************************************************************
*Copyright (c) 2014 Proxima Centauri srl <info@proxima-centauri.it>.
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the GNU Public License v3.0
* which accompanies this distribution, and is available at
* http://www.gnu.org/licenses/gpl.html
*  
* Contributors:
*     Proxima Centauri srl <info@proxima-centauri.it> - initial API and implementation
**************************************************************************** -->

<!DOCTYPE html>
<html ng-app>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Applus Energie Mobile</title>

<!-- css -->
<link rel="stylesheet" type="text/css" href="css/style.css">

</head>
<body>
<!--  jquery and jquerymobile -->
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css" />
<script type="text/javascript" src="js/jquery-1.9.0.js"></script>
<script type="text/javascript" src="js/jquery-ui-1.10.0.custom.min.js"></script>
<script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>
<!-- general js -->
<script type="text/javascript" src="js/general.js"></script>


<div id="mainpage" data-role="page" data-theme="a">
	<div data-role="header">
		<a href="#left-panel" data-theme="a" data-icon="arrow-r" data-iconpos="notext" data-shadow="false" data-iconshadow="false" class="ui-icon-nodisc">Dati</a>
		<div ng-include src="'m.data.html'" ></div> 
		<div ng-include src="'m.nomeAula.html'" ></div> 
	</div>
	
	<div id="content" data-role="content">
	
	</div>
	<div data-role="panel" id="left-panel" data-theme="b">
        <!-- qui ci va l'elenco delle possibili visualizzazioni  -->
        <a href="" data-role="button" data-theme="a" id="ist"> Istantaneo </a>
        <a href="" data-role="button" data-theme="a" id="oggi"> Oggi </a>
        <a href="" data-role="button" data-theme="a" id="settimana"> Ultima Settimana </a>
        <a href="" data-role="button" data-theme="a" id="eco"> Eco-consiglio </a>
        <a href="#" data-rel="close" data-role="button" data-mini="true" data-inline="true" data-icon="delete" data-iconpos="right">Close</a>
    </div><!-- /panel -->
</div>
</body>

<!-- angular js -->
<script src="js/angular.min.js"></script>
<!-- highcharts -->
<script src="js/highcharts.js"></script>
<!-- highstock -->
<script src="js/highstock.js"></script>
<!-- highchart more -->
<script src="js/highcharts-more.js"></script>

<script type="text/javascript">
$( document ).on( "vclick", "#ist", function() {
	$("#content").load("m.graficoistantaneo.html"); 
  });
$( document ).on( "vclick", "#oggi", function() {
	$("#content").load("m.graficoCentrale.html"); 
  });
  
$( document ).on( "vclick", "#settimana", function() {
	alert("v click");
	$("#content").load('m.graficosettimana.html');
  });
  
$( document ).on( "vclick", "#eco", function() {
	$("#content").load("m.ecoConsigli.html"); 
	 
  });
 
$( document ).on( "pageinit", "#mainpage", function() {
    $( document ).on( "swipeleft swiperight", "#mainpage", function( e ) {
        // We check if there is no open panel on the page because otherwise
        // a swipe to close the left panel would also open the right panel (and v.v.).
        // We do this by checking the data that the framework stores on the page element (panel: open).
        if ( $.mobile.activePage.jqmData( "panel" ) !== "open" ) {
             if ( e.type === "swiperight" ) {
                $( "#left-panel" ).panel( "open" );
            }
        }
    });
});
</script>
</html>
